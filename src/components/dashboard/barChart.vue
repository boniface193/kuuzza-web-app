<template>
  <v-card elevation="0" class="pt-10">
    <h1 :class="bar_class">{{ bar_title }}</h1>
    <!-- displays the bar-chart -->
    <v-container>
      <apexchart
        width="100%"
        type="bar"
        height="337"
        :options="chartOptions"
        :series="series"
      ></apexchart>
    </v-container>
  </v-card>
</template>

<script>
import { mapGetters } from "vuex";
export default {
  props: ["bar_class", "bar_title", "chart"],
  data() {
    return {
      series: [
        //        {
        //   name: "Awaiting Settlements(N)- 6M",
        //   // data: [10],
        // },
        {
          name: "Total Revenue(N)- 23M",
          data: [230000, 175000, 239000, 160000, 210000, 160000, 180000],
        },
        {
          name: "Settlements(N)- 19M",
          data: [145000, 120000, 160000, 55000, 95000, 90000, 80000],
        },
        {
          name: "Awaiting Settlements(N)- 6M",
          data: [95000, 51000, 70000, 95000, 125000, 95000, 52000],
        },
      ],
      chartOptions: {
        chart: {
          type: "bar",
          height: 350,
          toolbar: {
            show: false,
          },
        },
        plotOptions: {
          bar: {
            horizontal: false,
            columnWidth: "55%",
            endingShape: "flat",
          },
        },
        dataLabels: {
          enabled: false,
        },
        stroke: {
          show: false,
          width: 2,
          colors: ["transparent"],
        },
        xaxis: {
          categories: ["Sun", "Mon", "Tue", "Wed", "Thur", "Fri", "Sat"],
        },
        fill: {
          opacity: 1,
        },
        legend: {
          position: "top",
        },
        colors: ["#5064CC", "#52F1EC", "#44099F"],
      },
    };
  },

  computed: {
    ...mapGetters({ revenue: "dashboard/revenue" }),

    // categories() {
    //   return;
    // },
  },

  created() {
    console.log("category", this.categories);
    console.log("update barchart", this.updateBarChart());
    // this.series.data = "1500"
    // this.series.forEach((i) => {
    //   i.data = this.revenue.total_revenue
    //   console.log(this.revenue.total_revenue)
    //   // i.name += "Revenue"
    //   // console.log("i", i)
    // })
    // this.series.data = this.revenue.total_revenue
    // Object.keys(this.revenue).forEach((i) => {
    //   this.series.name += i
    // console.log("keys", this.series.name);
    // })

    // console.log("revenuer", this.revenue)
  },

  methods: {
    updateBarChart() {

      this.series.push({ data: this.revenue.total_revenue });
      // this.$store.dispatch("dashboard/getTotalRevenue").then((res) => {
      //   console.log("checking revenue", res);
      // });
    },
  },
};
</script>

<style lang="scss" scoped>
// area-chart heading design
.chart-heading {
  text-align: left;
  margin-left: 15px;
  font: normal normal bold 20px/1px "Product Sans";
  letter-spacing: 0px;
  color: #2b2b2b;
  opacity: 1;
}
.apexcharts-toolbar {
  /* position: absolute; */
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0px 6px 2px 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
</style>